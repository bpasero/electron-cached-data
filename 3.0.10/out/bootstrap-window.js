/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
"use strict";function parseURLQueryArgs(){return(window.location.search||"").split(/[?&]/).filter(function(e){return!!e}).map(function(e){return e.split("=")}).filter(function(e){return 2===e.length}).reduce(function(e,o){return e[o[0]]=decodeURIComponent(o[1]),e},{})}function registerDeveloperKeybindings(){const e=require("electron").ipcRenderer,o="darwin"===process.platform?"meta-alt-73":"ctrl-shift-73",n="darwin"===process.platform?"meta-82":"ctrl-82";let t=function(t){const r=function(e){return[e.ctrlKey?"ctrl-":"",e.metaKey?"meta-":"",e.altKey?"alt-":"",e.shiftKey?"shift-":"",e.keyCode].join("")}(t);r===o||"123"===r?e.send("vscode:toggleDevTools"):r===n&&e.send("vscode:reloadWindow")};return window.addEventListener("keydown",t),function(){t&&(window.removeEventListener("keydown",t),t=void 0)}}function onUnexpectedError(e,o){const n=require("electron").ipcRenderer;o&&n.send("vscode:openDevTools"),console.error("[uncaught exception]: "+e),e.stack&&console.error(e.stack)}
const bootstrap=require("./bootstrap");exports.assign=function(e,o){return Object.keys(o).reduce(function(e,n){return e[n]=o[n],e},e)},exports.load=function(e,o,n){const t=require("electron").webFrame,r=require("path"),s=parseURLQueryArgs(),i=JSON.parse(s.config||"{}")||{};process.on("uncaughtException",function(e){onUnexpectedError(e,c)});const c=(process.env.VSCODE_DEV||!!i.extensionDevelopmentPath)&&!i.extensionTestsPath;let a;(c||n&&n.forceEnableDeveloperKeybindings)&&(a=registerDeveloperKeybindings()),exports.assign(process.env,i.userEnv),bootstrap.enableASARSupport(r.join(i.appRoot,"node_modules"));const u=i.zoomLevel;"number"==typeof u&&0!==u&&t.setZoomLevel(u),n&&"function"==typeof n.canModifyDOM&&n.canModifyDOM(i);const d=bootstrap.setupNLS();let p=d.availableLanguages["*"]||"en";"zh-tw"===p?p="zh-Hant":"zh-cn"===p&&(p="zh-Hans"),window.document.documentElement.setAttribute("lang",p);const l=require(i.appRoot+"/out/vs/loader.js"),f=l.require,v=l.require.define,g=l.require.nodeRequire
;window.nodeRequire=g,window.require=f,v("fs",["original-fs"],function(e){return e}),window.MonacoEnvironment={};const h={baseUrl:bootstrap.uriFromPath(i.appRoot)+"/out","vs/nls":d,nodeModules:[]};i.nodeCachedDataDir&&(h.nodeCachedData={path:i.nodeCachedDataDir,seed:e.join("")}),n&&"function"==typeof n.beforeLoaderConfig&&n.beforeLoaderConfig(i,h),f.config(h),d.pseudo&&f(["vs/nls"],function(e){e.setPseudoTranslation(d.pseudo)}),n&&"function"==typeof n.beforeRequire&&n.beforeRequire(),f(e,e=>{try{const t=o(e,i);t&&"function"==typeof t.then&&t.then(()=>{a&&n&&n.removeDeveloperKeybindingsAfterLoad&&a()},e=>{onUnexpectedError(e,c)})}catch(e){onUnexpectedError(e,c)}})};
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/e02e44464c02d617b98d0a3265bf5efef7794436/core/bootstrap-window.js.map
